# 全微分

---

## 一、定义

$设二元函数f(x,y)在N(P_0)内有定义（P_0(x_0,y_0)）$

$若令全增量\Delta z = f(x_0+\Delta x, y_0+\Delta y)-f(x_0,y_0)$

$能表示成\Delta z = A\Delta x+B\Delta y + o(\rho)$

$其中A,B是与\Delta x,\Delta y无关的常数，\rho=\sqrt{(\Delta x)^2+(\Delta y)^2}$

$(\rho 是P(x_0+\Delta x, y_0+\Delta y)与P_0之间的距离$

$则称z=f(x,y)在P_0处可微，并称A\Delta x+B\Delta y为z=f(x,y)在P_0处的全微分，记为dz(x_0,y_0)或df(x_0,y_0)$

##### 说明

- $\rho \to 0，而\rho 是P_0P的距离，因此\rho \to 0 \Leftrightarrow P\to P_0（以任何方式）$
- $对上式变形得$

$$\lim_{\rho\to 0}\frac{\Delta z- (A\Delta x+B\Delta y)}{\rho}=0$$

或

$$\lim_{\Delta x\to 0,\Delta y \to 0}\frac{\Delta z-(A\Delta x+B\Delta y)}{\sqrt{(\Delta x)^2+(\Delta y)^2}}\tag{*}$$

## 二、可微的条件

### 1, 必要条件

$若z=f(x,y)在P_0处可微，即\Delta z=A\Delta x+B\Delta y +o(\rho)$

1. $当\Delta x \to 0 \qquad \Delta y \to 0，有\Delta z \to 0，则z=f(x,y)在P_0处连续$
2. $(*)式对任何\Delta x和\Delta y都成立，特别地，取\Delta y = 0，则$

$$\Delta z = f(x_0+\Delta x,y_0)-f(x,y)=A\Delta x+o(|\Delta x|)$$

$此时称\Delta z为偏增量$

上式可以推得

$$\frac{\Delta z}{\Delta x}=A+\frac{o(|\Delta x|)}{\Delta x}\to A$$

$即z=f(x,y)在P_0处对x可偏导，且f_x(x_0,y_0)=A$

$同理z=f(x,y)在P_0处对y可偏导，且f_y(x,y)=B$

综上，有关系

$$有极限\Leftarrow 连续\Leftarrow 可微 \Rightarrow 可偏导$$

$且在可微的前提下有$

$dz(x_0,y_0)=f_x(x_0,y_0)\Delta x+f_y(x_0,y_0)\Delta y$

典型例子：

$f(x,y)=\begin{cases}
\frac{xy}{x^2+y^2}\quad (x,y)\ne (0,0)\\
0 \quad (x,y)=(0,0)
\end{cases}在(0,0)处可偏导，但不连续，从而不可微$

$f(x,y)=|x+y|在(0,0)处连续，但不可偏导，从而不可微$

$f(x,y)=\begin{cases}
\frac{xy}{\sqrt{x^2+y^2}}\quad (x,y)\ne (0,0)\\
0 \quad (x,y)=(0,0)
\end{cases}在(0,0)处连续，可偏导，且f_x(0,0)=f_y(0,0)=0，此时利用(*)式$

$$\Delta z - (A\Delta x_B\Delta y)=\Delta z=f(x,y)-f(0,0)=\frac{xy}{\sqrt{ x^2+y^2}}$$

$$\lim_{\Delta x\to 0,\Delta y \to 0}\frac{\Delta z-(A\Delta x+B\Delta y)}{\sqrt{(\Delta x)^2+(\Delta y)^2}}=\lim_{\Delta x\to 0,\Delta y \to 0}\frac{xy}{x^2+y^2}$$

$取特殊路径y=x，有$

$$\lim_{x\to 0}\frac{xy}{x^2+y^2}=\frac{1}{2}\ne0$$

$故f(x,z)在(0,0)处不可微$

### 2. 充分条件

$若z=f(x,y)的偏导数f_x(x,y)在P_0处连续，则z=f(x,y)在P_0处可微$

#### 2.1 证明

$\Delta z = f(x_0+\Delta x,y_0+\Delta y)-f(x_0,y_0)$

$=f(x_0+\Delta x,y_0+\Delta y)-f(x_0,y_0+\Delta y)+f(x_0,y_0+\Delta y)-f(x_0,y_0)$

利用拉格朗日中值定理

$=f_x(\xi _1,y_0+\Delta y)\Delta x+f_y(x_0,\xi _2 )\Delta y$

$其中\begin{cases}
\xi _1=x_0+\theta_1\Delta x\\
\xi_2=y_0+\theta _2\Delta y
\end{cases}（0<\theta_i<1，i=1,2）$

则原式

$=(f_x(x_0,y_0)+\epsilon_1)\Delta x+(f_y(x_0,y_0)+\epsilon_2)\Delta y$

$其中\lim_{\Delta x\to 0,\Delta y \to 0}\epsilon _i =0，i=1,2$

$=f_x(x_0,y_0)\Delta x + f_y(x_0,y_0)\Delta y+\epsilon_1\Delta x+\epsilon_2\Delta y$

$接下来只需证明\epsilon_1\Delta x+\epsilon_2 \Delta y = o(\rho)$

$$0\le |\frac{\epsilon_1\Delta x+\epsilon_2\Delta y}{\rho}|\le |\epsilon_1||\frac{\Delta x}{\rho}|+|\epsilon_2||\frac{\Delta y}{\rho}|\to 0$$

（无穷小量乘有界函数）

#### 2.2 例题

$f(x,y)=\begin{cases}
(x^2+y^2)\sin(\frac{1}{x^2+y^2})\quad (x,y)\ne (0,0)\\
0
\end{cases}$